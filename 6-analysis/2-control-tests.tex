\section{Tests}
As a means of demonstrating reliability of the results obtained in this project, each component of the ETL software along with the Map functions used to produce the CouchDB views have extensive unit-test coverage. In addition, CSVs are produced from the test data that mirrors production CSVs to demonstrate consistency of the final results.

\subsection{nETL Unit Tests}
The open source \textit{Mocha} JavaScript \cite{mochaTest} testing framework is used to write assertion-based unit tests. Test coverage of nETL code is not 100\%, since the number of possible test cases are large. As such only certain features of the application are tested.

The basic premise of the ETL process is that the lines are extracted from CSVs and loaded into CouchDB reliably. Test coverage of the extraction process ensures that CSV lines are extracted iteratively, and that all lines in a CSV are read. Test code is included in the appendix at \ref{FLATFILE-tests}. The CSV used for testing is included in the appendix at \ref{FLATFILE-CSV}. The Load module unit test consists of a function that sends three documents into CouchDB via the \_bulk\_docs API and asserts that a 201 HTTP response is returned in the promise. The unit test for the load module is shown in \ref{COUCHDB-tests}

Extensive test coverage is used fro the TEXT\_LINE\_TO\_OBJ transformation module since CSV value separation is generally demarcated by ASCII characters that can themselves be part of value text (for example, the comma). As such, it is important to make sure that the RFC 4180 spec is adhered to closely when parsing CSV data - tests (as included in the appendix at \ref{TEXT_LINE_TO_OBJ-tests}) ensure that this is the case. Test assertions stipulate that strings (lines extracted verbatim from CSV files) are reliably split into columns, that the columns line up correctly with the headers, that values are handled correctly, and that lines are correctly transformed into JavaScript objects.

Unit tests for filtering cover the cases where objects may be filtered for individual values for up to multiple attributes, for any number of value on any number of attributes, and that filtering is done on an all-or-nothing-basis (objects either meet all filter requirements or are returned as ``null''). Code for the FILTER unit tests is included in the appendix at \ref{FILTER-tests}

Unit tests covering the CREATE\_OBJECT\_FIELD transformation's functionality are included in the appendix at \ref{CREATE_OBJECT_FIELD-tests} and code covering functionality of the WHITELIST transformation is included at \ref{WHITELIST-tests}. Functionality of these modules is fairly straightforward and as such unit tests are quite superficial.

\subsection{Map Function Tests}

\subsection{Join Output Tests}
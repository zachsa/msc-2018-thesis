% Document layout
\documentclass[
    parskip=full,
    a4paper
]{report}
\usepackage{blindtext}
\usepackage[utf8]{inputenc}
\usepackage{etoolbox}
\usepackage[toc,page]{appendix}
\setcounter{tocdepth}{4}
\setcounter{secnumdepth}{2}
\usepackage{parskip}
\usepackage[margin=1.25in]{geometry}
\usepackage{setspace}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\setstretch{1.3}
\setlength{\parindent}{0em}
% \setlength{\parskip}{1em}

% Hyperlinks
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}

% Graphics
\usepackage{pdfpages}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage[many]{tcolorbox}
\usepackage{etoolbox}

% Fonts
\usepackage{amssymb}
\usepackage{pifont}

% Lists
\usepackage{enumitem}
\setlist{nosep} % or \setlist{noitemsep} to leave space around whole list

% Tables & figures
\usepackage{multirow}
\usepackage{array}
\usepackage{mdframed}
\usepackage{booktabs}
\usepackage{tabularx}
\newcolumntype{Y}{>{\centering\arraybackslash}X}
\newcommand*{\mC}[2]{\multicolumn{1}{#1}{#2}}
\usepackage{subcaption}
\usepackage{threeparttable}
\usepackage{etoolbox}
\makeatletter
\patchcmd{\@verbatim}
  {\verbatim@font}
  {\verbatim@font\tiny}
  {}{}
\makeatother
\usepackage[font=scriptsize,skip=0pt]{caption}
\captionsetup[table]{labelformat=empty}
\captionsetup[table]{labelfont=bf,textfont=normalfont,singlelinecheck=off,justification=raggedright}
\captionsetup[figure]{labelformat=empty}
\captionsetup[figure]{labelfont=bf,textfont=normalfont,singlelinecheck=off,justification=justified}
\usepackage{listings}
\lstset{
  basicstyle=\tiny,
  breaklines=true
  }

% Inline-code
\usepackage[outputdir=./_build]{minted}
\definecolor{dhscodebg}{rgb}{0.9,0.9,0.92}
\setminted{
    breaksymbolleft=,
    fontsize=\scriptsize,
    baselinestretch=1.1,
    bgcolor=dhscodebg,
    % rulecolor=\color{gray!40},
    % framesep=\fboxsep,
    % frame=single,
    % framesep=10pt
    % framerule=2pt,
    xleftmargin=2.5em,
    linenos,
    breaklines,
    tabsize=4
}
\usemintedstyle{tango}

% Bibliography
\usepackage{natbib}
\usepackage{bibentry}
\nobibliography*

% Custom commands
\newcommand{\q}[1]{``#1''}
\newcommand{\cmark}{\ding{51}}
\newcommand{\xmark}{\ding{55}}

% Title
\title{Aggregations using multiple entities via MapReduce in CouchDB}
\author{Zach Smith}
\date{\today}

% Document
\begin{document}

% Title page
\maketitle
\thispagestyle{empty}

% Abstract
\begin{abstract}
    \input{1-abstract/abstract}
\end{abstract}
\newpage

%  TOC
\tableofcontents
\newpage

% Content
\chapter{Introduction}
\input{2-introduction/introduction}

\chapter{Background}
\input{3-background/1-map-reduce}
\input{3-background/2-couchdb}
\input{3-background/couchdb/1-server-api}
\input{3-background/3-edm}

\chapter{nETL}
\input{4-netl/1-requirements}
\input{4-netl/2-design}
\input{4-netl/3-configuration}
\input{4-netl/4-couchdb-setup}
\input{4-netl/5-implementation}

\chapter{Data}
\input{5-data/1-raw-data}
\input{5-data/2-applying-netl}
\input{5-data/tables/events}
\input{5-data/tables/grades}
\input{5-data/tables/fu}
\input{5-data/tables/json-entities}

\chapter{Analysis}
\input{6-analysis/1-overview}
\input{6-analysis/2-result-1}
\input{6-analysis/3-result-2}
\input{6-analysis/4-result-3}
\input{6-analysis/5-result-4}

\chapter{Conclusion}
\input{7-conclusion/1-summary}
\input{7-conclusion/2-discussion}
\input{7-conclusion/3-future_work}
\input{7-conclusion/4-acknowledgments}
\newpage

% Bibliogrpahy
\bibliographystyle{plain}
\bibliography{bibliography/msc_citations}

% Appendix
\begin{appendices}
    \chapter{\textit{nETL}}
    \input{appendix/netl-framework}
    \input{appendix/netl-modules}
    \input{appendix/netl-configurations}
    \chapter{CouchDB}
    \input{appendix/couchdb}
    \chapter{Logs}
    \input{appendix/logs}
    \chapter{Slack Conversations}
    \input{appendix/slack}
    \newpage
    \listoffigures
    \newpage
    \listoftables
    \newpage
\end{appendices}

% Close docuemnt
\end{document}
\subsubsection{Implementation}
Since extraction \ensuremath{\rightarrow} transformation \ensuremath{\rightarrow} load pipelines are defined via user-configuration, line data-structures can effectively be replaced by any data structure a user desires. Of course that user needs to make sure that the pipeline component (module) at any point in the pipeline can handle the data structure passed to it.

In any case, once a batch of x lines (or any other kind of data structure) has been obtained, transforming and loading data is pretty easy. Pseudocode to implement the nETL framework task-engine could be written something along the lines of:

\begin{minted}{javascript}
// An IIFE is used effectively as an asynchronous implementation of a while loop
(function doEtlTask(self) {
    var payLoad = [];
    var batch = getBatch.next();

    // Apply transformations to elements of extracted batch
    batch.forEach(function(datum){
        SpecifiedTransformations.forEach(function(t) {
            datum = self.transformations[t.Name].call(t, t).start(datum);
        });
        payLoad.push(datum);
    });

    // Load the batch
    self.load.batch(payLoad, function(status, msg) {
        doEtlTask(self); // Start ETL of next batch
    });

})(/* bind task configuration object to function execution context */);
\end{minted}
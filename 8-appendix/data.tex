\subsection{Data} % https://tex.stackexchange.com/questions/192656/alignment-in-tabularx-environment
\label{appendix:data}
\subsubsection{Sakai Events}
\label{appendix:sakai-events}
\noindent

\begin{table}[H]
    \begin{threeparttable}
        \textbf{Table \ref{tbl-sakai-events}}\par\medskip\par\medskip
        \caption[Sakai event data]{A description of the Sakai event data as received in CSV format, and how these fields were treated in the ETL and analysis process}
        \label{tbl-sakai-events}
        \begin{tabularx}{\textwidth}{>{\hsize=0.5\hsize}Y>{\hsize=0.8\hsize}X>{\hsize=0.8\hsize}X>{\hsize=1.9\hsize}X}
            \toprule
            \mC{c}{Include\tnote{\textsuperscript{1}}  } & \mC{c}{Field Name} & \mC{c}{Data type} & \mC{c}{Description}                                  \\
            \midrule
            \cmark                                       & event\_date        & date              & yyyy-mm-dd hh:mm:ss                                  \\
            \cmark                                       & event\_id          & number            & Number\tnote{\textsuperscript{2}}                    \\
            \cmark                                       & uct\_id            & number            & Anonymized student number\tnote{\textsuperscript{3}} \\
            \cmark                                       & site\_key          & number            & Foreign key reference to course site                 \\
            \xmark                                       & ref                & string            & Detail of event\tnote{\textsuperscript{4}}           \\
            \bottomrule
        \end{tabularx}
        \scriptsize
        \begin{tablenotes}
            \item[\textsuperscript{1}]White-listing of attributes was achieved via the \textit{nETL} application.
            \item[\textsuperscript{2}]This column represents a foreign key, pointing to a table of event types. This project only looks at presence events, corresponding to an event\_id of 281. Presence events accounted for just over 13 million events of the 44.5 million events received in the CSV from Stephen Marquard; filtering was achieved during the ETL process using the \textit{nETL} application.
            \item[\textsuperscript{3}]Anonymization of the event data was tricky because Excel truncated the file to 1 million rows. Stephen Marquard handled the anonymization of this data.
            \item[\textsuperscript{4}]Event details are for the most part URIs.
        \end{tablenotes}
    \end{threeparttable}
\end{table}


\begin{table}[H]
    \begin{threeparttable}
        \textbf{Table \ref{tbl-sakai-grades}}\par\medskip\par\medskip
        \caption[Sakai grade data]{A description of the Sakai grade data as received in CSV format, and how these fields were treated in the ETL and analysis process}
        \label{tbl-sakai-grades}
        \begin{tabularx}{\textwidth}{>{\hsize=0.4\hsize}Y>{\hsize=1\hsize}X>{\hsize=0.7\hsize}X>{\hsize=1.9\hsize}X}
            \toprule
            \mC{c}{Include\tnote{\textsuperscript{1}}  } & \mC{c}{Field Name} & \mC{c}{Data type} & \mC{c}{Description}                                    \\
            \midrule
            \xmark                                       & DownloadedDate     & date              & Excel date format                                      \\
            \cmark                                       & RegAcadYear        & number            & Year                                                   \\
            \xmark                                       & RegTerm            & number            & Integer ID                                             \\
            \cmark                                       & anonIDnew          & number            & Anonymized student number\tnote{\textsuperscript{2}}   \\
            \xmark                                       & RegProgram         & string            & Program abbreviation                                   \\
            \xmark                                       & RegCareer          & string            & Academic level\tnote{\textsuperscript{3}}              \\
            \xmark                                       & Degree             & string            & Degree code                                            \\
            \xmark                                       & DegreeDescr        & string            & Degree title                                           \\
            \xmark                                       & Subject            & string            & Three letter abbreviation                              \\
            \xmark                                       & Catalog.           & string            & Catalog sub-component (number and tem)                 \\
            \cmark                                       & Course             & string            & Full course code description                           \\
            \xmark                                       & CourseSuffix       & string            & Course session identifier  \tnote{\textsuperscript{4}} \\
            \xmark                                       & Session            & string            & Session name..                                         \\
            \cmark                                       & Percent            & string            & Grade achieved by student \tnote{\textsuperscript{5}}  \\
            \xmark                                       & Symbol             & string            & Symbol achieved by student                             \\
            \xmark                                       & UnitsTaken         & number            & Total units taken by student?                          \\
            \xmark                                       & CourseID           & number            & Numerical course Identifier                            \\
            \xmark                                       & CourseDescr        & string            & Description of course                                  \\
            \xmark                                       & CourseCareer       & string            & Academic level of course \tnote{\textsuperscript{6}}   \\
            \xmark                                       & Faculty            & string            & Course faculty                                         \\
            \xmark                                       & Dept               & string            & Faculty department                                     \\
            \xmark                                       & MaximumCrseUnits   & number            & ??                                                     \\
            \xmark                                       & CourseCount        & number            & ??                                                     \\
            \xmark                                       & CourseLevel        & number            & ??                                                     \\
            \xmark                                       & CESM               & number            & ??                                                     \\
            \xmark                                       & Sub-CESM           & number            & ??                                                     \\
            \bottomrule
        \end{tabularx}
        \scriptsize
        \begin{tablenotes}
            \item[\textsuperscript{1}]White-listing of attributes was achieved via the \textit{nETL} application.
            \item[\textsuperscript{2}]This column represents a foreign key, pointing to a table of event types. This project only looks at presence events, corresponding to an event\_id of 281. Presence events accounted for just over 13 million events of the 44.5 million events received in the CSV from Stephen Marquard; filtering was achieved during the ETL process using the \textit{nETL} application.
            \item[\textsuperscript{3}]This field includes information on the academic level of the student taking a particular course. A full list of these identifiers is MAST, PDEV, BUSN, HONS, EMST, PGDP, UGRD, DOCT, NDGP, PDOC, MEDS, NDGU. Only courses taken by students registered as undergraduates (UGRD) were considered in this study. \textit{nETL} was configured to filter this field during the ETL process, so this field was never loaded into CouchDB so as reduce the database footprint.
            \item[\textsuperscript{4}] A wide variety of course suffixes are present in the database, including: D,F,H,L,M,N,P,Q,R,S,W,X,Z. Only F (fist semester), S (second semester), H (a single semester course taken over a whole year) and W (a two semester course) were considered for this study as these are most typical for undergraduates. Filtering on this field was configured during the ETL process using the \textit{nETL} process.
            \item[\textsuperscript{5}]The percent field included both numbers and abbreviations that need to be normalized so that this field can be treated as always holding a numerical value. A table showing how the different suffixes and abbreviations of the percent field is shown in \ref{tbl-sakai-grades-percent}
            \item[\textsuperscript{6}]Only courses at undergraduate level were considered for this project.
        \end{tablenotes}
    \end{threeparttable}
\end{table}


\begin{table}[H]
    \begin{threeparttable}
        \textbf{Table \ref{tbl-sakai-grades-percent}}\par\medskip\par\medskip
        \caption{Grade results need to be treated as numbers for the purpose of this analysis, this table shows all different value types and the appropriate treatment for each. Because of the volume of data, it was not checked how many of these symbols apply to undergraduate students specifically, so these cases were handled generically}
        \label{tbl-sakai-grades-percent}
        \begin{tabularx}{\textwidth}{>{\hsize=0.6\hsize}X>{\hsize=1.3\hsize}X>{\hsize=1.1\hsize}X}
            \toprule
            \mC{c}{Symbol} & \mC{c}{Meaning}          & \mC{c}{Handling Logic}                     \\
            \midrule
            49A            & Absent for supplementary & Grade used                                 \\
            49S            & Supplementary pending    & Grade used                                 \\
            50C            & ?                        & Grade used                                 \\
            78             & Grade                    & Grade used                                 \\
            AB             & Absent (fail)            & 30\% Grade used\tnote{\textsuperscript{1}} \\
            ATT            & ?                        & N/A                                        \\
            DE             & Deferred                 & N/A                                        \\
            DPR            & Duly performed refused   & 20\% Grade used\tnote{\textsuperscript{2}} \\
            F              & Fail                     & 40\% Grade used\tnote{\textsuperscript{3}} \\
            GIP            & Thesis only              & N/A                                        \\
            INC            & Incomplete (fail)        & 20\% Grade used\tnote{\textsuperscript{2}} \\
            LOA            & Leave of absence         & N/A                                        \\
            OS             & Outstanding              & N/A                                        \\
            OSS            & Outstanding              & N/A                                        \\
            PA             & Pass (thesis)            & N/A                                        \\
            SAT            & Thesis only              & N/A                                        \\
            UF             & Unclassified Fail        & 30\% Grade used\tnote{\textsuperscript{1}} \\
            UNS            & Thesis only              & N/A                                        \\
            UP             & Unclassified pass        & 50\% Grade used\tnote{\textsuperscript{4}} \\
            \bottomrule
        \end{tabularx}
        \scriptsize
        \begin{tablenotes}
            \item[\textsuperscript{1}]30\% was applied on the estimate that failing in this case was slightly 'worse' than a regular fail.
            \item[\textsuperscript{2}]20\% was applied on the estimate that these students wouldn't necessarily have completed the coursework.
            \item[\textsuperscript{3}]40\% was applied on the estimate that this symbol would apply to students who participated in the course.
            \item[\textsuperscript{4}]50\% was applied on the estimate that these students passed without distinction or by concession.
        \end{tablenotes}
    \end{threeparttable}
\end{table}




\subsubsection{Demographic data}
\label{appendix:demographic-data}


\begin{table}[H]
    \begin{threeparttable}
        \textbf{Table \ref{tbl-fu}}\par\medskip\par\medskip
        \caption[FU data]{A description of the FU demographic data as received in CSV format, and how these fields were treated in the ETL and analysis process}
        \label{tbl-fu}
        \begin{tabularx}{\textwidth}{>{\hsize=0.4\hsize}Y>{\hsize=1\hsize}X>{\hsize=0.7\hsize}X>{\hsize=1.9\hsize}X}
            \toprule
            \mC{c}{Include\tnote{\textsuperscript{1}}  } & \mC{c}{Field Name}     & \mC{c}{Data type} & \mC{c}{Description}                                  \\
            \midrule
            \cmark                                       & anonIDnew              & number            & Anonymized student number\tnote{\textsuperscript{2}} \\
            \xmark                                       & Career                 & string            & Academic level\tnote{\textsuperscript{3}}            \\
            \xmark                                       & Citizenship Residency  & string            & Student citizenship \tnote{\textsuperscript{4}}      \\
            \xmark                                       & SA School              & string            & School name (if in RSA)                              \\
            \cmark                                       & Eng Grd12 Fin Rslt     & string            & Grade 12 English result                              \\
            \cmark                                       & Math Grd12 Fin Rslt    & string            & Grade 12 Math result                                 \\
            \cmark                                       & Mth Lit Grd12 Fin Rslt & string            & Grade 12 Math Literacy result                        \\
            \cmark                                       & Adv Mth Grd12 Fin Rslt & string            & Grade 12 Advanced Math result                        \\
            \cmark                                       & Phy Sci Grd12 Fin Rslt & string            & Grade 12 Science result                              \\
            \cmark                                       & NBT AL Score           & string            & National benchmark test (NBT)                        \\
            \cmark                                       & NBT QL Score           & string            & NBT                                                  \\
            \cmark                                       & NBT Math Score         & string            & NBT                                                  \\
            \cmark                                       & RegAcadYear            & number            & First registration at UCT                            \\
            \bottomrule
        \end{tabularx}
        \scriptsize
        \begin{tablenotes}
            \item[\textsuperscript{1}]White-listing of attributes was achieved via the \textit{nETL} application.
            \item[\textsuperscript{2}]This column represents a foreign key, pointing to a table of event types. This project only looks at presence events, corresponding to an event\_id of 281. Presence events accounted for just over 13 million events of the 44.5 million events received in the CSV from Stephen Marquard; filtering was achieved during the ETL process using the \textit{nETL} application.
            \item[\textsuperscript{3}]This field includes information on the academic level of the student taking a particular course. A full list of these identifiers is MAST, PDEV, BUSN, HONS, EMST, PGDP, UGRD, DOCT, NDGP, PDOC, MEDS, NDGU. Only courses taken by students registered as undergraduates (UGRD) were considered in this study. \textit{nETL} was configured to filter this field during the ETL process, so this field was never loaded into CouchDB so as reduce the database footprint.
            \item[\textsuperscript{3}]Only students that are citizens of South Africa were considered in this project.
        \end{tablenotes}
    \end{threeparttable}
\end{table}


\begin{table}[H]
    \textbf{Table \ref{tbl-json-examples}}\par\medskip\par\medskip
    \caption{JSON representation of data entities}
    \label{tbl-json-examples}
    \begin{tabular}{>{\centering\arraybackslash}P{\dimexpr 0.2\linewidth-2\tabcolsep}p{\dimexpr 0.8\linewidth-2\tabcolsep}}
        \toprule
        \mC{c}{Entity} & \mC{c}{JSON representation} \\
        \midrule
        Sakai Event    &
        \begin{verbatim}
            {
              "_id": "000e569ee321b915bae59fe62e0051e3",
              "_rev": "1-7112afce121087818c33ebfd0fd7fed7",
              "event_date": "2016-04-17T14:04:20.000Z",
              "event_id": 281,
              "uct_id": 3018438,
              "site_key": 2297,
              "type_": "vulaEvent"
            }        
        \end{verbatim}
        \\
        Sakai Grade    &
        \begin{verbatim}
            {
              "_id": "7530f4eed7e6bc3ef0d99a53be8ba9a2",
              "_rev": "8-232d0cf39728d41b4c5935f12469209d",
              "RegAcadYear": 2016,
              "RegTerm": 1161,
              "anonIDnew": 1,
              "RegCareer": "UGRD",
              "Degree": "QHB002",
              "Course": "PHI1010S",
              "CourseSuffix": "S",
              "Percent": "55",
              "CourseID": 109157,
              "Dept": "PHI",
              "type_": "courseGrade"
            }        
        \end{verbatim}
        \\
        FU Entity      &
        \begin{verbatim}
            {
              "_id": "6587aa5b36bba2a70aeba96d06f05d2b",
              "_rev": "1-8c7d395e046e452442907e3388c74b41",
              "anonIDnew": 3103212,
              "Eng Grd12 Fin Rslt": 58,
              "Math Grd12 Fin Rslt": 73,
              "Mth Lit Grd12 Fin Rslt": "",
              "Adv Mth Grd12 Fin Rslt": "",
              "Phy Sci Grd12 Fin Rslt": 67,
              "NBT AL Score": 53,
              "NBT QL Score": 43,
              "NBT Math Score": 60,
              "RegAcadYear": 2016,
              "type_": "demographic"
            }
        \end{verbatim}
        \\
        \bottomrule
    \end{tabular}
\end{table}
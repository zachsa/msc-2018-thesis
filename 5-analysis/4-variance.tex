\section{Benchmark Variance}
A \nth{3} analysis is done on the Benchmark data to assess the variances of each of the benchmarks evaluated. To achieve this, a single nETL task is run to load a database with Benchmarks data for all students who attended CSC1015F in either 2014, 2015, or 2016 (or attended the course multiple times). The JSON used for configuring nETL to load data from the \texttt{Benchmarks (2014 - 2016).csv} file into CouchDB is included in the appendix at \ref{netl-task-6-config}, which is identical to the configuration of the Task 1 nETL process (except that a different database is used).

Following loading of the data from the CSV into CouchDB, a Map function is used to produce an index of the CouchDB documents sorted by Student ID. Only the single value (Student ID) is used for the key since the Map function only outputs a single document type no joining is required - in fact, since the results of this analysis is the coefficient of variation for each used benchmark, a List function is not required at all. Instead the coefficient of variation of each benchmark analyzed is read directly from the MapReduce output (i.e. the view-index).

\subsection{Map Function}
The map function for this analysis is included in the appendix (see \ref{variance-map-function}). Each document passed to the map function is treated according to the logic shown in the activity diagram in Figure \ref{fig-variance-map-function}. On Map function execution the ``type\_'' attribute is checked. If the document is not of type ``benchmark'', Map function execution is terminated, otherwise benchmarks are retrieved from the document, averages of combined benchmarks are calculated, and a tuple of the form \mintinline{text}{[StudentId: [benchmarks]]} is output by the Map function.

Similarly to other Map function processing of benchmark documents, a normalization of grade symbols to percentages is performed via a nested function within the Map function, and according to the logic as discussed previously and shown in in Table \ref{tbl-benchmarks-normalize}. However, unlike with previous analyses, integer-based calculations are performed in the JavaScript code during Map function execution. All numbers in JavaScript are 64-bit Floating Point following the IEEE 754 standard \cite{floatingPoint}. As such, working with rational numbers with decimal points results in peculiarities compared to expectations of how base-10 arithmetic works. A typical example is demonstrated by the sum: ``$0.1 + 0.2 = 0.30000000000000004$''. Quantifying the margin for these errors and handling these cases correctly is difficult \cite{Goldberg1991}, so an open-source library (\texttt{decimal.js} \cite{decimaljs}) is used to handle integer division in the Map function. (CouchDB supports the commonJS specification for module loading of JavaScript libraries in the context of Map function execution \cite{commonJsMapFn}.)

\input{5-analysis/figures/fig-variance-map-function}

\subsection{List Function}
The list function is used to retrieve the variance and Standard Deviation of each of the benchmarks as tested for correlation against course results.